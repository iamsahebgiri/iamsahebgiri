---
import Layout from "../layouts/BaseLayout.astro";
import PerlinNoise from "../components/PerlinNoise.astro";
import SpotifySong from "../components/SpotifySong.astro";
import Contact from "../components/Contact.astro";
import { getCollection } from "astro:content";

const contacts = [
  {
    title: "Github",
    link: "https://github.com/iamsahebgiri",
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>',
  },
  {
    title: "X",
    link: "https://x.com/iamsahebgiri",
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 16 16"><path fill="currentColor" d="M9.294 6.928L14.357 1h-1.2L8.762 6.147L5.25 1H1.2l5.31 7.784L1.2 15h1.2l4.642-5.436L10.751 15h4.05zM7.651 8.852l-.538-.775L2.832 1.91h1.843l3.454 4.977l.538.775l4.491 6.47h-1.843z"/></svg>',
  },
  {
    title: "Linkedin",
    link: "https://www.linkedin.com/in/iamsahebgiri",
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/></svg>',
  },
  {
    title: "Linktree",
    link: "https://linktr.ee/iamsahebgiri",
    icon: '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="m13.736 5.853l4.005-4.117l2.325 2.38l-4.2 4.005h5.908v3.305h-5.937l4.229 4.108l-2.325 2.334l-5.74-5.769l-5.741 5.769l-2.325-2.325l4.229-4.108H2.226V8.121h5.909l-4.2-4.004l2.324-2.381l4.005 4.117V0h3.472zm-3.472 10.306h3.472V24h-3.472z"/></svg>',
  },
];

const DEFAULT_SONG = {
  id: "9iy8lQ8EFndbHlXF",
  collection: "spotifyLikedSong",
  data: {
    id: "0VpEX8ib3wE7u8NOw4szU6",
    title: "Eyes Off You",
    artist: "PRETTYMUCH",
    thumbnail: "https://i.scdn.co/image/ab67616d00004851d46d93ee7fb0589ef6973c5d",
    previewUrl: "https://p.scdn.co/mp3-preview/66056f42a4360b94ba012b31918dc538d8c791f9",
  },
};
const spotifyLikedSong = await getCollection("spotifyLikedSong");
const latestLikedSong = spotifyLikedSong.at(0) ?? DEFAULT_SONG;
---

<Layout
  title="About Me"
  description="Seasoned Software Engineer with 5+ years of experience bringing web projects to life, from inception to deployment."
>
  <section class="pt-28">
    <div class="grid grid-cols-1 gap-6 sm:grid-cols-12">
      <Contact contacts={contacts} />
      <div class="col-span-12 sm:col-span-6 gap-6 flex flex-col">
        <div
          class="rounded-2xl h-full dark:bg-neutral-800 ring-1 ring-neutral-900/5 dark:ring-white/10 overflow-hidden"
        >
          <PerlinNoise />
        </div>

        <SpotifySong song={latestLikedSong} />
      </div>
    </div>
  </section>
</Layout>
