---
import { GET } from "./api/spotify";
import Layout from "../layouts/BaseLayout.astro";
import PerlinNoise from "../components/PerlinNoise.astro";
import SpotifySong from "../components/SpotifySong.astro";
import { preview } from "astro";
import { Image } from "astro:assets";

const links = [
  { github: "https://github.com/iamsahebgiri" },
  { twitter: "https://twitter.com/iamsahebgiri" },
  { facebook: "https://facebook.com/iamsahebgiri" },
  { youtube: "https://youtube.com/iamsahebgiri" },
  { linkedin: "https://www.linkedin.com/in/iamsahebgiri" },
];

let spotifyLikedSong = {
  id: '0VpEX8ib3wE7u8NOw4szU6',
  title: 'Eyes Off You',
  artist: 'PRETTYMUCH',
  thumbnail: 'https://i.scdn.co/image/ab67616d00004851d46d93ee7fb0589ef6973c5d',
  previewUrl: 'https://p.scdn.co/mp3-preview/66056f42a4360b94ba012b31918dc538d8c791f9'
};

try {
  const spotifyLikedSongReq = await GET(Astro);
  if (!spotifyLikedSongReq.ok) {
    throw new Error("Failed to fetch the Spotify song for some reason.")
  }
  spotifyLikedSong = await spotifyLikedSongReq.json();
} catch (error) {
  console.log(error)
}
---

<Layout
  title="About Me"
  description="Seasoned Software Engineer with 5+ years of experience bringing web projects to life, from inception to deployment."
>
  <section class="pt-28">
    <div class="grid grid-cols-1 gap-6 sm:grid-cols-12">
      <div
        class="rounded-2xl h-[358px] col-span-12 sm:col-span-6 bg-gradient-to-r from-[#e93f0c] to-[#ffa51f] p-6 overflow-hidden relative"
      >
        <h1
          class="text-xl font-serif font-semibold text-white dark:text-neutral-50"
        >
          Contact
        </h1>
        <p class="text-white/80">Send me a message</p>
        <div class="mt-3 flex gap-2 flex-wrap max-w-48">
        <div class="border border-white/30 rounded-lg h-12 w-12 bg-white/10 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
        </div>
        <div class="border border-white/30 rounded-lg h-12 w-12 bg-white/10 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
        </div>
        <div class="border border-white/30 rounded-lg h-12 w-12 bg-white/10 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
        </div>
        <div class="border border-white/30 rounded-lg h-12 w-12 bg-white/10 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
        </div>
        <div class="border border-white/30 rounded-lg h-12 w-12 bg-white/10 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
        </div>

        </div>
        <Image
            height={358}
            width={358}
            class="animate-float absolute bottom-0 left-20 will-change-transform"
            src={"/card-contact-memoji.png"}
            alt="Contact me"
        />
      </div>

      <div class="col-span-12 sm:col-span-6 gap-6 flex flex-col">
        <div
          class="rounded-2xl h-full dark:bg-neutral-800 ring-1 ring-neutral-900/5 dark:ring-white/10 overflow-hidden"
        >
          <PerlinNoise />
        </div>

        <SpotifySong song={spotifyLikedSong}/>
      </div>

      <div
        class="rounded-2xl h-72 col-span-12 bg-white dark:bg-neutral-800 ring-1 ring-neutral-900/5 dark:ring-white/10 p-6"
      >
        <h1
          class="text-base font-semibold text-neutral-600 dark:text-neutral-50"
        >
          Stack
        </h1>
      </div>
    </div>
  </section>

</Layout>
