---
import { getCollection } from 'astro:content';

import BaseLayout from '../layouts/BaseLayout.astro';
import Project from '../components/Project.astro';
// import WobbleSphere from '../components/WobbleSphere.tsx';
import Spotlight from '../components/Spotlight.astro';

const featuredProjects = await getCollection('projects', ({ data }) => {
  return data.featured === true;
});

const workExperience = [
  {
    company: 'Groww',
    role: 'SDE Intern',
    description: 'Building infra and core tasks for the platform',
    startDate: 'Dec. 2023',
    endDate: 'Now',
    img: '/logos/groww.webp'
  },
  {
    company: 'Plane',
    role: 'Fellow, Frontend',
    description: 'Crafting open source project management tool',
    startDate: 'Mar 2023',
    endDate: 'Apr 2023',
    img: '/logos/plane.png'
  },
  {
    company: 'MathonGo',
    role: 'Frontend Engineer, Intern',
    description: 'Building online learning platform',
    startDate: 'Sep 2022',
    endDate: 'Dec 2022',
    img: '/logos/mathongo.png'
  },
  {
    company: 'Vaizle',
    role: 'Software Developer, Intern',
    description: 'Developing social media analytics tool',
    startDate: 'Jul 2022',
    endDate: 'Sep 2022',
    img: '/logos/vaizle.jpeg'
  }
];
---

<BaseLayout>
  <Spotlight
    classx="left-30 -top-20 md:left-60 lg:left-96 lg:-top-20"
    fill="orange"
  />
  <section class="my-16">
    <div
      class="h-[24rem] md:h-[40rem] w-full rounded-md flex md:items-center md:justify-center antialiased bg-grid-white/[0.02] relative overflow-hidden"
    >
      <div
        class="p-4 max-w-7xl mx-auto relative z-10 w-full pt-20 md:pt-0 text-center"
      >
        <h1
          class="text-4xl md:text-6xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-b dark:from-neutral-50 dark:to-neutral-400 from-neutral-400 to-neutral-800 bg-opacity-50"
        >
          Namaskar <br /> I am Saheb Giri
        </h1>
        <p
          class="mt-4 font-normal text-base text-neutral-500 dark:text-neutral-300 max-w-lg text-center mx-auto"
        >
          Seasoned Software Engineer with 5+ years of experience bringing web
          projects to life, from inception to deployment.
        </p>
        <div class="mt-8">
          <a
            href="/resume.pdf"
            target="_blank"
            class="mr-3 group relative inline-flex py-2 items-center justify-center overflow-hidden rounded-full bg-orange-600/90 backdrop-blur px-6 font-medium text-neutral-50 duration-500 ring-1 ring-orange-500/90"
          >
            <div
              class="translate-y-0 opacity-100 transition group-hover:-translate-y-[150%] group-hover:opacity-0"
            >
              Resume
            </div>
            <div
              class="absolute translate-y-[150%] opacity-0 transition group-hover:translate-y-0 group-hover:opacity-100"
            >
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                ><path
                  d="M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z"
                  fill="currentColor"
                  fill-rule="evenodd"
                  clip-rule="evenodd"></path>
              </svg>
            </div>
          </a>
          <a
            href="https://github.com/iamsahebgiri"
            target="_blank"
            class="inline-flex py-2 px-6 items-center justify-center overflow-hidden rounded-full font-medium ring-1 ring-neutral-200 backdrop-blur dark:bg-neutral-800/90 dark:text-neutral-200 dark:ring-white/10"
          >
            Github
          </a>
        </div>
      </div>
    </div>
  </section>
  <section class="my-16">
    <div class="grid grid-cols-1 gap-3 sm:grid-cols-3">
      {featuredProjects.map(({ data }) => <Project {...data} />)}
    </div>
    <h2
      class="mt-12 mb-6 text-2xl font-bold text-neutral-900 dark:text-neutral-50"
    >
      Work Experience
    </h2>
    <div
      class="inline-block w-full max-w-full overflow-hidden align-middle bg-white/90 backdrop-blur dark:bg-neutral-800 ring-1 ring-neutral-900/5 dark:ring-white/10 shadow rounded-lg"
    >
      <table class="w-full">
        <tbody class="bg-white/90 backdrop-blur dark:bg-neutral-800">
          {
            workExperience.map((experience, index) => (
              <tr class="bg-white/90 backdrop-blur dark:bg-neutral-800 hover:bg-neutral-100 dark:hover:bg-neutral-700/90 transform duration-150 border-b border-neutral-900 dark:border-neutral-900/10 last:border-0">
                <td class="px-6 py-4 whitespace-no-wrap">
                  <div class="flex items-center">
                    <>
                      <div class="flex-shrink-0 w-10">
                        <img
                          class="w-10 h-10 rounded-md"
                          src={experience.img}
                          alt={experience.company}
                        />
                      </div>
                      <div class="ml-4">
                        <>
                          <div class="text-sm leading-5 font-medium text-neutral-900 dark:text-neutral-100">
                            {experience.role}
                          </div>
                          <div class="text-sm leading-5 text-neutral-500 dark:text-neutral-400">
                            {experience.company}
                          </div>
                        </>
                      </div>
                    </>
                  </div>
                </td>
                <>
                  <td class="px-6 py-4 whitespace-no-wrap hidden lg:table-cell">
                    <div class="text-sm leading-5 text-neutral-800 dark:text-neutral-300">
                      {experience.description}
                    </div>
                  </td>
                  <td class="px-6 py-4 whitespace-no-wrap text-neutral-600 dark:text-neutral-500 text-sm">
                    <span class="">{experience.startDate}</span> -
                    <span class:list={[index === 0 && 'font-bold']}>
                      {experience.endDate}
                    </span>
                  </td>
                </>
              </tr>
            ))
          }
        </tbody>
      </table>
    </div>
  </section>
</BaseLayout>
